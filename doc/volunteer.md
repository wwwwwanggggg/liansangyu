## 志愿者接口

### 目录


### 志愿者更新个人信息

#### 请求URL PUT {baseurl}/api/user/volunteer

#### 请求参数

```json
{
    "school":"XJTU",
    "clazz":"asda",
    "skills":["adas"]
}
```

#### 返回值

失败
|`message`|失败原因|
|--|--|
|创建志愿者信息失败||
|查询志愿者信息失败||
|更新志愿者信息失败|上述都是后端炸了|
|没有相应用户信息|没有用户基本信息就调用此接口，请先更新用户基本信息|

### 报名一个任务

#### 请求URL POST {baseurl}/api/volunteer/signup/:id

#### 请求参数

**Param**

|参数名|参数类型|是否必填|样例|说明|
|--|--|--|--|--|
|`id`|int|true|1|任务的id，可通过gettask得到|

#### 返回值

失败

|`message`|失败原因|
|--|--|
|查询任务信息失败||
|查询志愿者信息失败|||||
|报名失败||
|更新任务人数失败|上述后端炸了|
|没有相应任务信息|传入了不存在的任务的id|
|报名人数已满|满员了|
|任务已经开始或者结束，无法报名|时间不合理|


### 放弃一个任务

#### 请求URL DELETE {baseurl}/api/volunteer/signout/:id

#### 请求参数

|参数名|参数类型|是否必填|样例|说明|
|--|--|--|--|--|
|`id`|int|true|1|任务的id，可通过获取个人信息得到|

#### 失败

|`message`|失败原因|
|--|--|
|查询任务信息失败||
|查询报名信息失败||
|取消报名失败||
|更新任务人数失败|上述后端炸了|
|没有相应任务信息|传入了不存在的任务的id|
|没有报名信息|尝试取消报名未报名的任务|
|任务已经开始或者结束，无法退选|时间不合理|


### 签到

#### 请求URL {baseurl}/api/volunteer/in/:id

#### 请求参数

**Param**

|参数名|参数类型|是否必填|样例|说明|
|--|--|--|--|--|
|`id`|int|true|1|任务的id，可通过获取个人信息得到|

注：签到会在接口调用时获取当前时间，严格要求时间在任务的开始和结束时间之间

#### 返回值

失败
|`message`|失败原因|
|--|--|
|查询志愿者信息失败||
|查询任务信息失败||
|查询报名信息失败||
|签到失败|上述后端炸了|
|没有相应志愿者信息|没有志愿者信息就调用签到|
|没有相应任务信息|传入了不存在的任务的id|
|没有报名信息|尝试签到没有报名的任务|
|签到时间不在任务时间范围内|时间不合理|


### 签退

#### 请求URL {basrurl}/api/volunteer/out/:id

#### 请求参数

|参数名|参数类型|是否必填|样例|说明|
|--|--|--|--|--|
|`id`|int|true|1|任务的id，可通过获取个人信息得到|

注：签退会也会获取调用接口时的时间，允许在任务结束后的一小时以内，结束前的15分钟之后签到，会按照任务时长进行时间计算；超出的部分每45分钟记作1小时，否则不记作1小时

#### 返回值

失败
|`message`|失败原因|
|--|--|
|查询志愿者信息失败||
|查询任务信息失败||
|查询报名信息失败||
|更新失败|上述后端炸了|
|没有相应志愿者信息|没有志愿者信息就调用签到|
|没有相应任务信息|传入了不存在的任务的id|
|没有报名信息|尝试签退没有报名的任务|
|任务结束前15分钟内无法签退||
|签到时间不在任务时间范围内|时间不合理|


### 获取任务列表

#### 请求URL GET {baseurl}/api/volunteer/tasks

#### 参数

```json
{
    
}

```